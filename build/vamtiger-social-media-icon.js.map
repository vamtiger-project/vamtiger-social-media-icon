{"version":3,"file":"vamtiger-social-media-icon.js","sources":["../source/types.ts","../source/css/document-index.ts","../source/html/index.ts","../source/get-template.ts","../source/config.ts","../source/element.ts","../source/vamtiger-social-media-icon.ts","../source/load-icon.ts"],"sourcesContent":["import * as VamtigerBrowserSupport from 'vamtiger-browser-method/build/types';\nimport VamtigerSocialMediaIcon from './element';\n\nexport enum StringConstant {\n    nothing = '',\n    newline = '\\n'\n}\n\nexport enum Selector {\n    style = 'style',\n    slot = 'slot',\n    figure = 'figure',\n    figcaption = 'figcaption',\n    facebook = 'figure[data-facebook]',\n    twitter = 'figure[data-twitter]',\n    instagram = 'figure[data-instagram]',\n    iconPath = 'svg > path'\n}\n\nexport enum IconFigure {\n    twitter = 'twitter',\n    instagram = 'instagram',\n    facebook = 'facebook'\n}\n\nexport enum ObservedAttributes {\n\n}\n\nexport interface IGetTemplate {\n    selector: Selector;\n    attributes?: IAttributes;\n    properties?: IProperties;\n}\n\nexport interface IAttributes {\n    id?: string;\n    for?: string;\n    name?: string;\n}\n\nexport interface IProperties {\n    innerHTML?: string;\n}\n\nexport interface IDataset extends DOMStringMap {\n    twitter?: IconFigure.twitter;\n    facebook?: IconFigure.facebook;\n    instagram?: IconFigure.instagram;\n    color?: string;\n    hoverColor?: string;\n}\n\nexport interface ILoadIcon {\n    element: VamtigerSocialMediaIcon;\n}\n\nexport type AttributesKey = keyof IAttributes;\n\nexport type ObservedAttribute = keyof typeof ObservedAttributes;\n\nexport type GetTemplate<P extends IGetTemplate> =\n    P['selector'] extends Selector.style ? HTMLStyleElement :\n    P['selector'] extends Selector.slot ? HTMLSlotElement :\n    P['selector'] extends\n        Selector.figure\n        | Selector.figcaption\n        | Selector.facebook\n        | Selector.twitter\n        | Selector.instagram\n        | Selector.figcaption\n            ? HTMLElement :\n    null;","export default `figcaption,figure,svg,vamtiger-social-media-icon{margin:0;padding:0}vamtiger-social-media-icon [slot=vamtiger-social-media-icon],vamtiger-social-media-icon [slot=vamtiger-social-media-icon] svg{width:100%;height:100%}vamtiger-social-media-icon [slot=vamtiger-social-media-icon][data-instagram] svg{-webkit-transform:scale(1.27) translateY(1px);transform:scale(1.27) translateY(1px)}vamtiger-social-media-icon [slot=vamtiger-social-media-icon] svg>path{-webkit-transition:fill 175ms linear;transition:fill 175ms linear}\n/*# sourceMappingURL=document-index.ts.map */`;","export default `<style data-dynamic-style> </style> <slot></slot> <figure></figure> <figcaption></figcaption> <figure data-facebook> <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 10.6 20.4\" xml:space=\"preserve\" > <path d=\"M3.1,20.4v-9.3H0V7.5h3.1V4.8C3.1,1.7,5,0,7.8,0c1.3,0,2.5,0.1,2.8,0.1v3.2l-1.9,0c-1.5,0-1.8,0.7-1.8,1.8v2.3h3.6L10,11.1H6.9v9.3H3.1z\" /> </svg> </figure> <figure data-instagram> <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 54 54\" xml:space=\"preserve\" > <path d=\"M48.1,26.3c0,4.3,0,7.2-0.1,8.8c-0.2,3.9-1.3,6.9-3.5,9s-5.1,3.3-9,3.5c-1.6,0.1-4.6,0.1-8.8,0.1c-4.3,0-7.2,0-8.8-0.1 c-3.9-0.2-6.9-1.3-9-3.5c-2.1-2.1-3.3-5.1-3.5-9c-0.1-1.6-0.1-4.6-0.1-8.8s0-7.2,0.1-8.8c0.2-3.9,1.3-6.9,3.5-9 c2.1-2.1,5.1-3.3,9-3.5c1.6-0.1,4.6-0.1,8.8-0.1c4.3,0,7.2,0,8.8,0.1c3.9,0.2,6.9,1.3,9,3.5s3.3,5.1,3.5,9 C48,19.1,48.1,22,48.1,26.3z M28.8,8.7c-1.3,0-2,0-2.1,0c-0.1,0-0.8,0-2.1,0c-1.3,0-2.3,0-2.9,0c-0.7,0-1.6,0-2.7,0.1 c-1.1,0-2.1,0.1-2.9,0.3c-0.8,0.1-1.5,0.3-2,0.5c-0.9,0.4-1.7,0.9-2.5,1.6c-0.7,0.7-1.2,1.5-1.6,2.5c-0.2,0.5-0.4,1.2-0.5,2 s-0.2,1.7-0.3,2.9c0,1.1-0.1,2-0.1,2.7c0,0.7,0,1.7,0,2.9c0,1.3,0,2,0,2.1s0,0.8,0,2.1c0,1.3,0,2.3,0,2.9c0,0.7,0,1.6,0.1,2.7 c0,1.1,0.1,2.1,0.3,2.9s0.3,1.5,0.5,2c0.4,0.9,0.9,1.7,1.6,2.5c0.7,0.7,1.5,1.2,2.5,1.6c0.5,0.2,1.2,0.4,2,0.5 c0.8,0.1,1.7,0.2,2.9,0.3s2,0.1,2.7,0.1c0.7,0,1.7,0,2.9,0c1.3,0,2,0,2.1,0c0.1,0,0.8,0,2.1,0c1.3,0,2.3,0,2.9,0 c0.7,0,1.6,0,2.7-0.1c1.1,0,2.1-0.1,2.9-0.3c0.8-0.1,1.5-0.3,2-0.5c0.9-0.4,1.7-0.9,2.5-1.6c0.7-0.7,1.2-1.5,1.6-2.5 c0.2-0.5,0.4-1.2,0.5-2c0.1-0.8,0.2-1.7,0.3-2.9c0-1.1,0.1-2,0.1-2.7c0-0.7,0-1.7,0-2.9c0-1.3,0-2,0-2.1s0-0.8,0-2.1 c0-1.3,0-2.3,0-2.9c0-0.7,0-1.6-0.1-2.7c0-1.1-0.1-2.1-0.3-2.9c-0.1-0.8-0.3-1.5-0.5-2c-0.4-0.9-0.9-1.7-1.6-2.5 c-0.7-0.7-1.5-1.2-2.5-1.6c-0.5-0.2-1.2-0.4-2-0.5c-0.8-0.1-1.7-0.2-2.9-0.3c-1.1,0-2-0.1-2.7-0.1C31.1,8.7,30.1,8.7,28.8,8.7z M34.4,18.5c2.1,2.1,3.2,4.7,3.2,7.8s-1.1,5.6-3.2,7.8c-2.1,2.1-4.7,3.2-7.8,3.2c-3.1,0-5.6-1.1-7.8-3.2c-2.1-2.1-3.2-4.7-3.2-7.8 s1.1-5.6,3.2-7.8c2.1-2.1,4.7-3.2,7.8-3.2C29.7,15.3,32.3,16.3,34.4,18.5z M31.7,31.3c1.4-1.4,2.1-3.1,2.1-5s-0.7-3.7-2.1-5.1 c-1.4-1.4-3.1-2.1-5.1-2.1c-2,0-3.7,0.7-5.1,2.1s-2.1,3.1-2.1,5.1s0.7,3.7,2.1,5c1.4,1.4,3.1,2.1,5.1,2.1 C28.6,33.4,30.3,32.7,31.7,31.3z M39.9,13c0.5,0.5,0.8,1.1,0.8,1.8c0,0.7-0.3,1.3-0.8,1.8c-0.5,0.5-1.1,0.8-1.8,0.8 s-1.3-0.3-1.8-0.8c-0.5-0.5-0.8-1.1-0.8-1.8c0-0.7,0.3-1.3,0.8-1.8c0.5-0.5,1.1-0.8,1.8-0.8S39.4,12.5,39.9,13z\" /> </svg> </figure> <figure data-twitter> <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 250 203.1\" xml:space=\"preserve\" > <path d=\"M78.6,203.1c94.3,0,145.9-78.2,145.9-145.9c0-2.2,0-4.4-0.1-6.6c10-7.3,18.7-16.3,25.6-26.5 c-9.4,4.1-19.3,6.9-29.5,8.1c10.7-6.4,18.7-16.5,22.5-28.4c-10.1,6-21.1,10.2-32.6,12.4c-19.4-20.7-51.9-21.7-72.6-2.2 c-13.3,12.5-19,31.2-14.8,49C81.9,60.9,43.4,41.4,17.4,9.4C3.8,32.8,10.7,62.8,33.3,77.8c-8.2-0.2-16.1-2.4-23.3-6.4 c0,0.2,0,0.4,0,0.6c0,24.4,17.2,45.4,41.2,50.3c-7.6,2.1-15.5,2.4-23.2,0.9c6.7,20.9,26,35.2,47.9,35.6c-18.2,14.3-40.6,22-63.7,22 c-4.1,0-8.2-0.3-12.2-0.7C23.5,195.2,50.7,203.1,78.6,203.1\" /> </svg> </figure> <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"> <title>vamtiger-social-media-icon</title> <link rel=\"stylesheet\" href=\"https://unpkg.com/mocha/mocha.css\"> <link rel=\"stylesheet\" href=\"test.css\"> <script src=\"https://unpkg.com/mocha/mocha.js\"></script> <script src=\"https://unpkg.com/chai/chai.js\"></script> <script src=\"https://unpkg.com/vamtiger-browser-support@latest/build/vamtiger-browser-support.js\" src-local=\"http://127.0.0.1:9999/build/vamtiger-browser-support.js\" data-es2015-support-primary data-element-query-support data-web-component-support data-fetch-support data-load=\"test/browser.js\" ></script> </head> <body> <section id=\"mocha\"> <header> <h1> vamtiger-social-media-icon </h1> </header> </section> <vamtiger-social-media-icon data-twitter></vamtiger-social-media-icon> <vamtiger-social-media-icon data-facebook></vamtiger-social-media-icon> <vamtiger-social-media-icon data-instagram></vamtiger-social-media-icon> </body> </html>`;","import {\n    IGetTemplate,\n    GetTemplate,\n    StringConstant,\n    AttributesKey\n} from './types';\nimport html from './html';\nimport css from './css';\n\nconst { nothing } = StringConstant;\nconst template = document.createElement('template');\nconst stylesheet = `<style>${css}</style>`\nconst templateHtml = [\n    stylesheet,\n    html\n].join(nothing);\n\ntemplate.innerHTML = templateHtml;\n\nexport default <P extends IGetTemplate>(params: P) => {\n    const {\n        selector,\n        attributes = {},\n        properties = {}\n    } = params;\n    const attributesKeys = Object.keys(attributes) as AttributesKey[]\n    const templateElement = template.content.querySelector(selector);\n    const currentTemplate = templateElement && templateElement.cloneNode(true) as GetTemplate<P>;\n\n    if (currentTemplate) {\n        Object.assign(currentTemplate, properties);\n\n        attributesKeys.forEach(key => attributes[key] && currentTemplate.setAttribute(key, attributes[key] || ''));\n    }\n\n    return currentTemplate;\n};","import {\n    ObservedAttributes,\n    ObservedAttribute\n} from './types'\n\nexport const shadowRoot = {\n    mode: 'open'\n} as ShadowRootInit;\n\nexport const observedAttributes = Object.keys(ObservedAttributes) as ObservedAttribute[];","import {\n    Selector,\n    ObservedAttribute\n} from './types';\nimport css from './css/document-index';\nimport getTemplate from './get-template';\nimport {\n    shadowRoot as shadowRootConfig,\n    observedAttributes\n} from './config';\nimport loadIcon from './load-icon';\n\nconst { VamtigerBrowserMethod } = window;\nconst { loadScript } = VamtigerBrowserMethod;\nexport const name = 'vamtiger-social-media-icon';\n\ncss && loadScript({ name, css })\n    .catch(console.error);\n\nexport default class VamtigerSocialMediaIcon extends HTMLElement {\n    constructor() {\n        super();\n\n        const shadowRoot = this.attachShadow(shadowRootConfig);\n        const stylesheet = getTemplate({\n            selector: Selector.style\n        });\n        const figureSlot = getTemplate({\n            selector: Selector.slot,\n            attributes: {\n                name\n            }\n        });\n        const elements = [\n            stylesheet,\n            figureSlot\n        ];\n\n        elements.forEach(element => element && shadowRoot.appendChild(element));\n    }\n\n    static get observedAttributes() {\n        return observedAttributes;\n    }\n\n    async connectedCallback() {\n        const element = this;\n\n        await loadIcon({ element });\n    }\n\n    attributeChangedCallback(name: ObservedAttribute, oldValue: string, newValue: string) {\n\n    }\n}","import constructor, { name } from './element';\n\nconst { VamtigerBrowserMethod } = window;\nconst { defineCustomElement } = VamtigerBrowserMethod;\n\ndefineCustomElement({\n    name,\n    constructor\n});","import {\n    IDataset,\n    ILoadIcon,\n    Selector,\n    IconFigure\n} from './types';\nimport getTemplate from './get-template';\nimport { name as slot } from './element';\n\nexport default async function ({ element }: ILoadIcon) {\n    const dataset = element.dataset as IDataset;\n    const {\n        color\n    } = dataset;\n    const selector = dataset.hasOwnProperty(IconFigure.facebook) && Selector.facebook\n        || dataset.hasOwnProperty(IconFigure.twitter) && Selector.twitter\n        || dataset.hasOwnProperty(IconFigure.instagram) && Selector.instagram;\n    const pathSelector = selector && `${selector} ${Selector.iconPath}`;\n    const icon = selector && getTemplate({\n        selector\n    });\n    const iconPath = icon && pathSelector && icon.querySelector<SVGPathElement>(pathSelector);\n\n    if (iconPath && color) {\n        iconPath.style.fill = color;\n    }\n\n    if (icon && iconPath) {\n        icon.slot = slot;\n\n        element.appendChild(icon);\n    }\n}"],"names":["StringConstant","Selector","IconFigure","ObservedAttributes","nothing","template","document","createElement","templateHtml","html","join","innerHTML","params","selector","attributes","properties","attributesKeys","Object","keys","templateElement","content","querySelector","currentTemplate","cloneNode","assign","forEach","key","setAttribute","shadowRoot","mode","observedAttributes","VamtigerBrowserMethod","window","loadScript","name","css","catch","console","error","defineCustomElement","HTMLElement","[object Object]","super","this","attachShadow","shadowRootConfig","getTemplate","style","slot","element","appendChild","async","dataset","color","hasOwnProperty","facebook","twitter","instagram","pathSelector","iconPath","icon","fill","loadIcon","oldValue","newValue"],"mappings":"yBAGA,IAAYA,EAKAC,EAWAC,EAMAC,GAtBZ,SAAYH,GACRA,aACAA,eAFJ,CAAYA,IAAAA,OAKZ,SAAYC,GACRA,gBACAA,cACAA,kBACAA,0BACAA,mCACAA,iCACAA,qCACAA,wBARJ,CAAYA,IAAAA,OAWZ,SAAYC,GACRA,oBACAA,wBACAA,sBAHJ,CAAYA,IAAAA,OAMAC,IAAAA,MCzBZ,MAAe,0jBCAA,0gICSf,MAAMC,QAAEA,GAAYJ,EACdK,EAAWC,SAASC,cAAc,YAElCC,GADa,oHAGfC,GACFC,KAAKN,GAEPC,EAASM,UAAYH,EAErB,MAAwCI,IACpC,MAAMC,SACFA,EAAQC,WACRA,KAAeC,WACfA,MACAH,EACEI,EAAiBC,OAAOC,KAAKJ,GAC7BK,EAAkBd,EAASe,QAAQC,cAAcR,GACjDS,EAAkBH,GAAmBA,EAAgBI,WAAU,GAQrE,OANID,IACAL,OAAOO,OAAOF,EAAiBP,GAE/BC,EAAeS,QAAQC,GAAOZ,EAAWY,IAAQJ,EAAgBK,aAAaD,EAAKZ,EAAWY,IAAQ,MAGnGJ,GC9BJ,MAAMM,GACTC,KAAM,QAGGC,EAAqBb,OAAOC,KAAKf,GCG9C,MAAM4B,sBAAEA,GAA0BC,QAC5BC,WAAEA,GAAeF,EACVG,EAAO,6BAEbD,GAAaC,KAAAA,EAAMC,IAAAA,IACrBC,MAAMC,QAAQC,OCfnB,4BAAQP,GAA0BC,QAC5BO,oBAAEA,GAAwBR,EAEhCQ,GACIL,KAAAA,4BDaiDM,YACjDC,cACIC,QAEA,MAAMd,EAAae,KAAKC,aAAaC,IAClBC,GACfjC,SAAUZ,EAAS8C,QAEJD,GACfjC,SAAUZ,EAAS+C,KACnBlC,YACIoB,KAAAA,MAQCT,QAAQwB,GAAWA,GAAWrB,EAAWsB,YAAYD,IAGlEnB,gCACI,OAAOA,EAGXW,gCEpCWU,gBAAgBF,QAAEA,IAC7B,MAAMG,EAAUH,EAAQG,SAClBC,MACFA,GACAD,EACEvC,EAAWuC,EAAQE,eAAepD,EAAWqD,WAAatD,EAASsD,UAClEH,EAAQE,eAAepD,EAAWsD,UAAYvD,EAASuD,SACvDJ,EAAQE,eAAepD,EAAWuD,YAAcxD,EAASwD,UAC1DC,EAAe7C,MAAeA,KAAYZ,EAAS0D,WACnDC,EAAO/C,GAAYiC,GACrBjC,SAAAA,IAEE8C,EAAWC,GAAQF,GAAgBE,EAAKvC,cAA8BqC,GAExEC,GAAYN,IACZM,EAASZ,MAAMc,KAAOR,GAGtBO,GAAQD,IACRC,EAAKZ,KAAOA,EAEZC,EAAQC,YAAYU,IFkBdE,EAAWb,QAFDN,OAKpBF,yBAAyBP,EAAyB6B,EAAkBC"}